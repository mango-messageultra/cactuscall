<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cactus Call</title>
    <style>
        /* Existing styles ... */
    </style>
</head>
<body>
    <header>
        <h1>Cactus Call</h1>
    </header>
    <div id="video-container">
        <video id="local-video" autoplay playsinline muted></video>
        <div id="remote-videos"></div> <!-- For remote participants -->
    </div>
    <div class="controls">
        <button id="start-call">Start Video</button>
        <button id="stop-call" disabled>Stop Video</button>
        <input type="text" id="room-code" placeholder="Enter Room Code">
        <button id="join-room">Join Room</button>
        <button id="create-room">Create Room</button>
    </div>
    <script>
        // Initialize Firebase, WebRTC, and video call functionality ...

        const startCallButton = document.getElementById('start-call');
        const stopCallButton = document.getElementById('stop-call');
        const localVideo = document.getElementById('local-video');
        const roomCodeInput = document.getElementById('room-code');
        const createRoomButton = document.getElementById('create-room');
        const joinRoomButton = document.getElementById('join-room');
        const remoteVideosContainer = document.getElementById('remote-videos');

        let localStream;
        let peerConnections = {}; // Store peer connections for each participant

        // Firebase integration for room creation and joining ...

        // WebRTC peer connection setup ...

        startCallButton.addEventListener('click', async () => {
            try {
                localStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                localVideo.srcObject = localStream;
                startCallButton.disabled = true;
                stopCallButton.disabled = false;
            } catch (error) {
                alert('Unable to access camera and microphone.');
            }
        });

        stopCallButton.addEventListener('click', () => {
            if (localStream) {
                localStream.getTracks().forEach(track => track.stop());
                localVideo.srcObject = null;
            }
            startCallButton.disabled = false;
            stopCallButton.disabled = true;
        });

        createRoomButton.addEventListener('click', () => {
            // Firebase room creation code ...
        });

        joinRoomButton.addEventListener('click', () => {
            // Firebase join room code and WebRTC setup ...
        });

        // WebRTC peer-to-peer connection and remote video display ...

    </script>
</body>
</html>
